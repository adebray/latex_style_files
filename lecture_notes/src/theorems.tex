% Setting up some theorem environments
%
% The "exampx" and similar provisional environments are in use so that I can
% append a marker at the end of examples, remarks, claims, facts, and notes.
% (Of course, it would be good for me to determine how to do this automatically.)
% Source: http://tex.stackexchange.com/a/32394/
%
\newtheorem{thm}[equation]{Theorem}
\newtheorem{lem}[equation]{Lemma}
\newtheorem{cor}[equation]{Corollary}
\newtheorem{prop}[equation]{Proposition}
\theoremstyle{definition}
\newtheorem{ex}[equation]{Exercise}
\newtheorem{exampx}[equation]{Example}
\newtheorem{defn}[equation]{Definition}
\newtheorem{claim}[equation]{Claim}
\theoremstyle{remark}
\newtheorem{remx}[equation]{Remark}
\newtheorem*{fctx}{Fact}
\newtheorem*{notex}{Note}
%
%
\newcommand{\exampleQED}{\smash\adfhalfleftarrowhead}
\newenvironment{exm}
  {\pushQED{\qed}\renewcommand{\qedsymbol}{\exampleQED}\exampx}
  {\popQED\endexampx}
\newenvironment{rem}
  {\pushQED{\qed}\renewcommand{\qedsymbol}{\exampleQED}\remx}
  {\popQED\endremx}
\newenvironment{fct}
  {\pushQED{\qed}\renewcommand{\qedsymbol}{\exampleQED}\fctx}
  {\popQED\endfctx}
\newenvironment{note}
  {\pushQED{\qed}\renewcommand{\qedsymbol}{\exampleQED}\notex}
  {\popQED\endnotex}
% NOTE: if you try to use a proof inside an example, remark, or fact, the QED symbol will be wrong
% you can restore it as follows
% WARNING: this is currently a kludge. I would like this to be dealt with automatically, and also
% only use boxtimes if I've turned on style
\newcommand{\insideexample}{\renewcommand{\qedsymbol}{\small{\ensuremath\boxtimes}}}
%
%
% Another possibility: "definition-theorems" as used in universal properties
% I will probably also want starred theorems (propositions, subsections, etc.).
% Crefnames, allowing me to reference multiple theorems at once
\crefname{thm}{Theorem}{Theorems}
\crefname{lem}{Lemma}{Lemmas}
\crefname{cor}{Corollary}{Corollaries}
\crefname{prop}{Proposition}{Propositions}
\crefname{ex}{Exercise}{Exercises}
\crefname{exampx}{Example}{Examples}
\crefname{defn}{Definition}{Definitions}
\crefname{claim}{Claim}{Claims}
\crefname{remx}{Remark}{Remarks}
\crefname{fctx}{Fact}{Facts}
\crefname{notex}{Note}{Notes}
